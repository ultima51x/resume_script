% PRINT CHILDREN
\BLOCK{macro printchildren(node)}
\BLOCK{for c in node.children()}
\VAR{ c.tag | macrobyname(c) }
\BLOCK{endfor}
\BLOCK{-endmacro}


% ROOT
\BLOCK{macro root(node)}
% LaTeX file for resume
% This file uses the resume document class (res.cls)
\documentclass[overlapped]{res}
\newsectionwidth{0pt}  % So the text is not indented under section headings

\topmargin=-0.85in % start text higher on the page
\oddsidemargin=-0.65in
\evensidemargin=-0.65in
\addtolength{\textwidth}{1.25in}
\addtolength{\textheight}{1.55in}

\begin{document}
\VAR{printchildren(node)-}
\end{document}
\BLOCK{-endmacro}


% HEADER
\BLOCK{macro header(node)}
\thispagestyle{empty} % this page has no header
\address{\bf\LARGE \VAR{node.name} \\ \VAR{node.address1} \\ \VAR{node.address2} }
\address{ \VAR{node.phone} \\ \VAR{node.email} \\ }
\BLOCK{-endmacro}


% BODY
\BLOCK{macro body(node)}
\begin{resume}
\VAR{printchildren(node)-}
\end{resume}
\BLOCK{-endmacro}


% SECTION
\BLOCK{macro sec(node)}
\section{\VAR{node.name|upper}}
\VAR{printchildren(node)}
\BLOCK{-endmacro}


% LOC
\BLOCK{macro loc(node)}
{\bf \VAR{node.name} }\hfill \VAR{node.city}\\
\VAR{printchildren(node)}
\BLOCK{-endmacro}


% POS
\BLOCK{macro pos(node)}
{\it \VAR{node.name}}\hfill \VAR{node.date}
\BLOCK{-if node.description|length > 0-}\\\VAR{node.description}\BLOCK{-endif-}
\BLOCK{if node.children()|length > 0}
\begin{itemize} \itemsep -2pt
\VAR{ printchildren(node) -}
\end{itemize}
\vspace {-10pt}
\BLOCK{-endif-}
\BLOCK{-endmacro}


% DESC
\BLOCK{macro desc(node)}
\item \VAR{node.text}
\BLOCK{-endmacro}


% LIST
\BLOCK{macro list(node)}
{\bf \VAR{node.title}:} \VAR{node.children()|map(attribute='text')|join(', ')}
\BLOCK{-endmacro}
